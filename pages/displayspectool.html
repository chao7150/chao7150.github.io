<html>
  <head>
    <meta charset="utf-8"/>
    <title>displayspectool</title>
  </head>
  <body>
    <script src="https://unpkg.com/hyperapp"></script>
    <script type="text/javascript">

    const { h, app } = hyperapp

    const state = {
      horizontal: 100,
      vertical: 100
    }

    const size2resTable = {
      0: [100, 100],
      1: [200, 200],
      2: [300, 300],
      3: [527.04, 296.46]
    }

    const actions = {
      size2res: () => state => {
        const val = document.getElementById("sizeSelectBox").value
        return {
          horizontal: size2resTable[val][0],
          vertical: size2resTable[val][1]
        }
      },
      inputRes: (e) => state => {
        console.log(e)
        console.log(state)
        const f = e.srcElement.id
        const newVal = Number(e.srcElement.value)
        return {...state, [f]:newVal}
      }
    }

    const view = (state, actions) => (
      h("div", {id: 'app'}, [
        h("select", {id: "sizeSelectBox", onchange: actions.size2res}, [
          h("option", {value: "0"}, "13.3"),
          h("option", {value: "1"}, "15.6"),
          h("option", {value: "2"}, "21.5"),
          h("option", {value: "3"}, "23.8"),
        ]),
        h("form", {}, [
          h("input", {
            id: "horizontal",
            type: "number",
            value: state.horizontal,
            oninput: actions.inputRes
            }),
          h("input", {
            id: "vertical",
            type: "number",
            value: state.vertical,
            oninput: actions.inputRes
            })
        ])
      ])
    )

    app(state, actions, view, document.body)

    </script>
  </body>
</html>